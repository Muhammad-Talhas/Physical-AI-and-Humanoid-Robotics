"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[147],{8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var i=n(6540);const o={},t=i.createContext(o);function r(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:s},e.children)}},8756:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"chapters/ros2/ch2-nodes-topics-services-actions","title":"ROS 2 Nodes, Topics, Services, Actions","description":"Learning Objectives","source":"@site/docs/chapters/ros2/ch2-nodes-topics-services-actions.mdx","sourceDirName":"chapters/ros2","slug":"/chapters/ros2/ch2-nodes-topics-services-actions","permalink":"/docs/chapters/ros2/ch2-nodes-topics-services-actions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"ch2-nodes-topics-services-actions","title":"ROS 2 Nodes, Topics, Services, Actions","sidebar_label":"Nodes, Topics, Services, Actions"},"sidebar":"textbookSidebar","previous":{"title":"Introduction to ROS 2","permalink":"/docs/chapters/ros2/ch1-introduction"},"next":{"title":"Python Development","permalink":"/docs/chapters/ros2/ch3-python-development"}}');var o=n(4848),t=n(8453);const r={id:"ch2-nodes-topics-services-actions",title:"ROS 2 Nodes, Topics, Services, Actions",sidebar_label:"Nodes, Topics, Services, Actions"},c=void 0,a={},l=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Overview",id:"overview",level:2},{value:"ROS 2 Nodes: The Building Blocks",id:"ros-2-nodes-the-building-blocks",level:2},{value:"Node Management",id:"node-management",level:3},{value:"Topics: Asynchronous Data Streaming",id:"topics-asynchronous-data-streaming",level:2},{value:"How Topics Work",id:"how-topics-work",level:3},{value:"Example: Simple Publisher-Subscriber (Conceptual)",id:"example-simple-publisher-subscriber-conceptual",level:3},{value:"Services: Synchronous Request-Response",id:"services-synchronous-request-response",level:2},{value:"How Services Work",id:"how-services-work",level:3},{value:"Example: Robot Arm Movement Service (Conceptual)",id:"example-robot-arm-movement-service-conceptual",level:3},{value:"Actions: Long-Running Tasks with Feedback",id:"actions-long-running-tasks-with-feedback",level:2},{value:"How Actions Work",id:"how-actions-work",level:3},{value:"Example: Navigate to Goal Action (Conceptual)",id:"example-navigate-to-goal-action-conceptual",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Understand the role of nodes in a ROS 2 system."}),"\n",(0,o.jsx)(s.li,{children:"Differentiate between ROS 2 topics, services, and actions."}),"\n",(0,o.jsx)(s.li,{children:"Implement basic communication patterns using these primitives."}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(s.p,{children:"Building upon the introduction to ROS 2, this chapter dives into the fundamental communication mechanisms that allow different parts of a robotic system to interact. We will thoroughly explore nodes, topics, services, and actions, providing concrete examples of how to utilize each for robust robot control and data exchange."}),"\n",(0,o.jsx)(s.h2,{id:"ros-2-nodes-the-building-blocks",children:"ROS 2 Nodes: The Building Blocks"}),"\n",(0,o.jsxs)(s.p,{children:["As discussed, nodes are the atomic computational units in ROS 2. Each node typically has a single, well-defined responsibility, promoting modularity and reusability. Examples include a ",(0,o.jsx)(s.code,{children:"camera_publisher"})," node, a ",(0,o.jsx)(s.code,{children:"robot_controller"})," node, or a ",(0,o.jsx)(s.code,{children:"data_logger"})," node."]}),"\n",(0,o.jsx)(s.h3,{id:"node-management",children:"Node Management"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Naming"}),": Nodes have unique names within a ROS graph, allowing for easy identification and addressing."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Lifecycle"}),": ROS 2 nodes can have a managed lifecycle, transitioning through states like ",(0,o.jsx)(s.code,{children:"unconfigured"}),", ",(0,o.jsx)(s.code,{children:"inactive"}),", ",(0,o.jsx)(s.code,{children:"active"}),", and ",(0,o.jsx)(s.code,{children:"finalized"}),"."]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"topics-asynchronous-data-streaming",children:"Topics: Asynchronous Data Streaming"}),"\n",(0,o.jsx)(s.p,{children:"Topics are the primary means for nodes to exchange data asynchronously. This publish-subscribe model is ideal for continuous streams of data, such as sensor readings, motor commands, or processed information."}),"\n",(0,o.jsx)(s.h3,{id:"how-topics-work",children:"How Topics Work"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Publishers"}),": A node that sends messages over a topic."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Subscribers"}),": A node that receives messages from a topic."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Message Types"}),": Each topic uses a specific message type, defining the structure of the data being transmitted."]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"example-simple-publisher-subscriber-conceptual",children:"Example: Simple Publisher-Subscriber (Conceptual)"}),"\n",(0,o.jsxs)(s.p,{children:["Consider a ",(0,o.jsx)(s.code,{children:"temperature_sensor"})," node publishing temperature data to a ",(0,o.jsx)(s.code,{children:"/temperature"})," topic, and a ",(0,o.jsx)(s.code,{children:"display_node"})," subscribing to this topic to show the current temperature."]}),"\n",(0,o.jsx)(s.h2,{id:"services-synchronous-request-response",children:"Services: Synchronous Request-Response"}),"\n",(0,o.jsx)(s.p,{children:"Services provide a synchronous communication mechanism, useful for one-shot requests where an immediate response is expected. This is analogous to a function call in a distributed system."}),"\n",(0,o.jsx)(s.h3,{id:"how-services-work",children:"How Services Work"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Service Server"}),": A node that provides a service and waits for requests."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Service Client"}),": A node that makes a request to a service server."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Service Types"}),": Services define both a request and a response message type."]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"example-robot-arm-movement-service-conceptual",children:"Example: Robot Arm Movement Service (Conceptual)"}),"\n",(0,o.jsxs)(s.p,{children:["A ",(0,o.jsx)(s.code,{children:"robot_arm_server"})," might provide a ",(0,o.jsx)(s.code,{children:"/move_arm"})," service. A ",(0,o.jsx)(s.code,{children:"user_interface"})," node could be a client, requesting the arm to move to a specific position and waiting for confirmation."]}),"\n",(0,o.jsx)(s.h2,{id:"actions-long-running-tasks-with-feedback",children:"Actions: Long-Running Tasks with Feedback"}),"\n",(0,o.jsx)(s.p,{children:"Actions are designed for tasks that might take a significant amount of time to complete and require periodic feedback, or the ability to be canceled (preempted). They are built on top of topics and services."}),"\n",(0,o.jsx)(s.h3,{id:"how-actions-work",children:"How Actions Work"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Action Server"}),": A node that accepts action goals and sends feedback, results, and optionally can be preempted."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Action Client"}),": A node that sends action goals, processes feedback, and receives results."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Action Types"}),": Actions define a goal, feedback, and result message type."]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"example-navigate-to-goal-action-conceptual",children:"Example: Navigate to Goal Action (Conceptual)"}),"\n",(0,o.jsxs)(s.p,{children:["A ",(0,o.jsx)(s.code,{children:"navigation_server"})," could offer a ",(0,o.jsx)(s.code,{children:"/navigate_to_pose"})," action. A ",(0,o.jsx)(s.code,{children:"mission_planner"})," node would act as a client, sending a goal pose, receiving feedback on the robot's progress, and potentially canceling the navigation if conditions change."]}),"\n",(0,o.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(s.p,{children:"This chapter provided a detailed exploration of ROS 2 nodes and the three primary communication primitives: topics for asynchronous data streams, services for synchronous request-response interactions, and actions for long-running, preemptible tasks with feedback. Understanding these concepts is crucial for designing and implementing complex robotic applications in ROS 2. The next chapter will focus on practical implementation using Python."}),"\n",(0,o.jsx)(s.h2,{id:"exercises",children:"Exercises"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Scenario Design"}),": Propose a set of ROS 2 nodes, topics, services, and actions for a drone inspection system. Describe how each component would interact."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Message Definition"}),": For a simple ",(0,o.jsx)(s.code,{children:"LightSensor"})," node that publishes illuminance data, define a hypothetical ROS 2 message type (e.g., in IDL format or Python class structure)."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Critical Thinking"}),": Discuss a scenario where a service would be more appropriate than a topic, and vice-versa. Similarly, explain why an action might be preferred over a service for a particular task."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);