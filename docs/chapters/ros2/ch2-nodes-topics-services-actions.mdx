---
id: ch2-nodes-topics-services-actions
title: ROS 2 Nodes, Topics, Services, Actions
sidebar_label: Nodes, Topics, Services, Actions
---

## Learning Objectives

- Understand the role of nodes in a ROS 2 system.
- Differentiate between ROS 2 topics, services, and actions.
- Implement basic communication patterns using these primitives.

## Overview

Building upon the introduction to ROS 2, this chapter dives into the fundamental communication mechanisms that allow different parts of a robotic system to interact. We will thoroughly explore nodes, topics, services, and actions, providing concrete examples of how to utilize each for robust robot control and data exchange.

## ROS 2 Nodes: The Building Blocks

As discussed, nodes are the atomic computational units in ROS 2. Each node typically has a single, well-defined responsibility, promoting modularity and reusability. Examples include a `camera_publisher` node, a `robot_controller` node, or a `data_logger` node.

### Node Management

*   **Naming**: Nodes have unique names within a ROS graph, allowing for easy identification and addressing.
*   **Lifecycle**: ROS 2 nodes can have a managed lifecycle, transitioning through states like `unconfigured`, `inactive`, `active`, and `finalized`.

## Topics: Asynchronous Data Streaming

Topics are the primary means for nodes to exchange data asynchronously. This publish-subscribe model is ideal for continuous streams of data, such as sensor readings, motor commands, or processed information.

### How Topics Work

*   **Publishers**: A node that sends messages over a topic.
*   **Subscribers**: A node that receives messages from a topic.
*   **Message Types**: Each topic uses a specific message type, defining the structure of the data being transmitted.

### Example: Simple Publisher-Subscriber (Conceptual)

Consider a `temperature_sensor` node publishing temperature data to a `/temperature` topic, and a `display_node` subscribing to this topic to show the current temperature.

## Services: Synchronous Request-Response

Services provide a synchronous communication mechanism, useful for one-shot requests where an immediate response is expected. This is analogous to a function call in a distributed system.

### How Services Work

*   **Service Server**: A node that provides a service and waits for requests.
*   **Service Client**: A node that makes a request to a service server.
*   **Service Types**: Services define both a request and a response message type.

### Example: Robot Arm Movement Service (Conceptual)

A `robot_arm_server` might provide a `/move_arm` service. A `user_interface` node could be a client, requesting the arm to move to a specific position and waiting for confirmation.

## Actions: Long-Running Tasks with Feedback

Actions are designed for tasks that might take a significant amount of time to complete and require periodic feedback, or the ability to be canceled (preempted). They are built on top of topics and services.

### How Actions Work

*   **Action Server**: A node that accepts action goals and sends feedback, results, and optionally can be preempted.
*   **Action Client**: A node that sends action goals, processes feedback, and receives results.
*   **Action Types**: Actions define a goal, feedback, and result message type.

### Example: Navigate to Goal Action (Conceptual)

A `navigation_server` could offer a `/navigate_to_pose` action. A `mission_planner` node would act as a client, sending a goal pose, receiving feedback on the robot's progress, and potentially canceling the navigation if conditions change.

## Summary

This chapter provided a detailed exploration of ROS 2 nodes and the three primary communication primitives: topics for asynchronous data streams, services for synchronous request-response interactions, and actions for long-running, preemptible tasks with feedback. Understanding these concepts is crucial for designing and implementing complex robotic applications in ROS 2. The next chapter will focus on practical implementation using Python.

## Exercises

1.  **Scenario Design**: Propose a set of ROS 2 nodes, topics, services, and actions for a drone inspection system. Describe how each component would interact.
2.  **Message Definition**: For a simple `LightSensor` node that publishes illuminance data, define a hypothetical ROS 2 message type (e.g., in IDL format or Python class structure).
3.  **Critical Thinking**: Discuss a scenario where a service would be more appropriate than a topic, and vice-versa. Similarly, explain why an action might be preferred over a service for a particular task.
